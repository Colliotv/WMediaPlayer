<UserControl x:Class="MediaLibrary.Audio.SubViews.AudioAlbumView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:MediaLibrary.Audio.SubViews"
             xmlns:uiLibrary="clr-namespace:UiLibrary;assembly=UiLibrary"
             xmlns:library="clr-namespace:MediaLibrary.Audio.Library"
             xmlns:audio="clr-namespace:MediaPropertiesLibrary.Audio;assembly=MediaPropertiesLibrary"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="300" d:DataContext="{local:AudioAlbumViewModel}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../../Ressources/ControlPlayButton.xaml" />
                <ResourceDictionary Source="../../Ressources/MusicDisplayer.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid x:Name="GridContainer">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding Path=AlbumsAccess}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <ItemsPanelTemplate.Resources>
                            <uiLibrary:WidthToColumnConverter x:Key="WidthToColumnConverter" />
                        </ItemsPanelTemplate.Resources>
                        <UniformGrid
                            Columns="{Binding ElementName=GridContainer, Path=ActualWidth, Converter={StaticResource WidthToColumnConverter}}"
                            VirtualizingPanel.IsVirtualizing="True"
                            VirtualizingPanel.CacheLengthUnit="Page"
                            VirtualizingPanel.CacheLength="2,2"
                            VirtualizingPanel.IsContainerVirtualizable="True"
                            VirtualizingPanel.VirtualizationMode="Recycling" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="{x:Type audio:Album}">
                        <Grid Margin="25" Name="AlbumPresenter">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1.5*" />
                                <RowDefinition Height="1*" />
                            </Grid.RowDefinitions>
                            <Button Grid.Row="0" MinWidth="50"
                                    Height="{Binding ElementName=AlbumPresenter, Path=ActualWidth}">
                                <Button.Template>
                                    <ControlTemplate>
                                        <Grid>
                                            <Border Background="#154154" BorderBrush="LightGray" BorderThickness="0.0"
                                                    Grid.ZIndex="0"/>
                                            <Path Margin="10" Stretch="Uniform" Grid.ZIndex="0"
                                                  Data="F0 M 0,0 C -159.36,-159.2 -417.76,-159.2 -577.12,0 -736.32,159.36 -736.32,417.76 -577.12,577.12
		 -417.76,736.32 -159.36,736.32 0,577.12 159.2,417.76 159.2,159.36 0,0 z
		M -353.76,626.72 C -356.16,636.32 -364.96,642.72 -374.56,642.72 -376.32,642.72 -378.08,642.56 -379.84,642.08
		 -442.72,625.92 -500.48,592.8 -546.72,546.72 -592.8,500.48 -625.92,442.88 -642.08,379.84 -644.96,368.32 -638.08,356.64 -626.56,353.76
		 -615.04,350.72 -603.52,357.6 -600.48,369.12 -586.24,424.64 -557.12,475.52 -516.32,516.32 -475.52,557.12 -424.64,586.24 -369.12,600.48
		 -357.6,603.52 -350.72,615.2 -353.76,626.72 z
		M -332.16,543.36 C -334.72,553.12 -343.52,559.52 -352.96,559.52 -354.72,559.52 -356.64,559.36 -358.4,558.88
		 -406.56,546.4 -450.72,521.28 -485.92,485.92 -521.28,450.56 -546.56,406.4 -558.88,358.4 -561.92,346.88 -554.88,335.2 -543.52,332.16
		 -531.84,329.12 -520.32,336.16 -517.28,347.68 -506.88,388.32 -485.44,425.6 -455.52,455.52 -425.76,485.44 -388.32,506.72 -347.68,517.28
		 -336.16,520.16 -329.28,531.84 -332.16,543.36 z
		M -153.28,423.84 C -227.84,498.24 -348.48,498.4 -423.04,423.84 -497.6,349.28 -497.6,228.48 -423.04,154.08
		 -348.48,79.52 -227.84,79.52 -153.28,154.08 -78.88,228.48 -78.88,349.28 -153.28,423.84 z
		M -33.76,244.96 C -35.52,245.44 -37.28,245.6 -39.04,245.6 -48.64,245.6 -57.28,239.2 -59.84,229.44
		 -70.24,188.8 -91.68,151.52 -121.6,121.6 -151.52,91.52 -188.8,70.24 -229.44,59.84 -240.96,56.8 -247.84,45.12 -244.96,33.6
		 -241.92,22.24 -230.08,15.2 -218.88,18.24 -170.72,30.56 -126.56,55.84 -91.2,91.2 -55.84,126.56 -30.56,170.72 -18.24,218.88
		 -15.2,230.4 -22.24,242.08 -33.76,244.96 z
		M 49.44,223.52 C 47.68,223.84 45.92,224.16 44.16,224.16 34.56,224.16 25.92,217.76 23.36,208
		 9.12,152.48 -20,101.6 -60.8,60.8 -101.6,20 -152.48,-9.12 -208,-23.36 -219.52,-26.4 -226.56,-38.08 -223.52,-49.44
		 -220.64,-60.96 -208.8,-68 -197.44,-64.96 -134.4,-48.8 -76.64,-15.84 -30.4,30.4 15.68,76.64 48.8,134.4 64.96,197.28
		 67.84,208.8 60.96,220.48 49.44,223.52 z
		M -384.96,192.16 C -438.24,245.44 -438.24,331.84 -384.96,385.28 -331.68,438.56 -245.28,438.56 -191.84,385.28
		 -138.56,331.84 -138.56,245.44 -191.84,192.16 -245.28,138.88 -331.68,138.88 -384.96,192.16 z
		M -287.84,316.48 C -302.88,316.48 -315.2,304.32 -315.2,289.28 -315.2,274.24 -302.88,261.92 -287.84,261.92
		 -272.8,261.92 -260.64,274.24 -260.64,289.28 -260.64,304.32 -272.8,316.48 -287.84,316.48 z"
                                                  Fill="Black" Stroke="LightGray" />
                                            <Image Grid.ZIndex="1" Source="{Binding Path=Cover}" Stretch="Fill" />
                                        </Grid>

                                    </ControlTemplate>
                                </Button.Template>
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=Cover}" Value="{x:Null}">
                                                <Setter Property="Template" Value="{StaticResource DefaultAlbumCover}" />
                                                <Setter Property="Background" Value="LightGray" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                            <Grid Grid.Row="1" Background="#333333" Height="80">
                                <Grid.Resources>
                                    <uiLibrary:AccessFirstMember x:Key="AccessFirstMember" />
                                </Grid.Resources>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="1*" />
                                </Grid.RowDefinitions>
                                <Border Margin="5" Grid.Row="0" Name="NamePresenter" BorderThickness="0" Height="45"/>
                                <TextBlock Text="{Binding Path=Name}" Foreground="LightGray" FontSize="13" Grid.Row="0"
                                           TextWrapping="WrapWithOverflow" TextTrimming="CharacterEllipsis" Margin="5"
                                           Width="{Binding ElementName=NamePresenter, Path=ActualWidth}"
                                           Height="{Binding ElementName=NamePresenter, Path=ActualHeight}" />
                                <TextBlock Text="{Binding Path=FirstArtistName}" TextWrapping="WrapWithOverflow"
                                           Foreground="#A3A3A3"
                                           TextTrimming="CharacterEllipsis" Grid.Row="1" Margin="5" />
                            </Grid>
                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
